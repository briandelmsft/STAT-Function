openapi: 3.0.1
info:
  title: Triage Sentinel incident using STAT
  description: The STAT module is used to enrich Sentinel incident using the Sentinel Triage Assistant (or STAT) version 2.
  version: 1.0.0
paths:
  /copilot:
    post:
      summary: Copilot endpoint
      description: |
        This module is used to enrich Sentinel incident and get information about the entitites from a Sentinel incident using the incidentUrl as an input. When an incident number is provided.
        # ExamplePrompts Can you enrich this incident using STAT?
        # ExamplePrompts Can you get more information about incident 1234 with STAT?
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CopilotModuleRequest'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CopilotModuleResponse'
components:
  schemas:
    CopilotModuleRequest:
      type: object
      properties:
        incidentUrl:
          type: string
          description: |
            The incidentUrl of the incident in Sentinel.
        config1:
          type: string
          description: |
            Custom config parameter
    CopilotModuleResponse:
      type: object
      properties:
        username:
          type: string
          description: the username impacted by the incident
        riskLevel:
          type: string
          description: the level of risk in Entra ID Identity Protection of the user impacted by the incident 
        incidentARMId:
          type: string
          description: the ARM ID of the Sentinel incident, the information is not displayed unless specifically asked
        incidentNumber:
          type: integer
          description: the Sentinel incident number
